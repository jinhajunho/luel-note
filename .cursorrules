# Luel Note - 15개 페이지별 개발 의도 및 상세 기능

---

## 📱 회원 페이지 (3개)

### 1. 회원-일정 (app/member/schedule/page.tsx)

**개발 의도:**
회원이 자신의 레슨 일정을 한눈에 파악하고 예정된 수업을 확인할 수 있는 페이지

**핵심 기능:**
1. **미니 캘린더**
   - 이번 달 전체 날짜 표시
   - 레슨 있는 날: 파란색 점 표시
   - 오늘 날짜: 파란색 테두리 하이라이트
   - 선택한 날짜: 파란색 배경
   
2. **날짜별 레슨 목록**
   - 선택한 날짜의 레슨만 필터링 표시
   - 레슨 카드 구성:
     - 시간 (10:00)
     - 레슨 유형 뱃지 (개인레슨-보라, 그룹레슨-주황 등)
     - 강사명
     - 레슨 상태 (예정/완료)
   
3. **레슨 상세 정보**
   - 레슨 카드 클릭 시 모달 표시
   - 날짜, 시간, 강사, 레슨 유형, 결제 타입
   - 함께하는 회원 (그룹/듀엣의 경우)

**UI 특징:**
- 간결한 캘린더: 월 단위 보기, 헤더 없이 깔끔하게
- 레슨 카드: 흰색 배경, 둥근 모서리, 가볍게 호버 효과
- 색상 시스템: 레슨 유형에 따른 색상 구분

**데이터 필터링:**
- 본인 프로필 ID로 필터링
- 본인이 참여하는 레슨만 표시

---

### 2. 회원-출석 (app/member/attendance/page.tsx)

**개발 의도:**
회원이 자신의 출석 현황과 남은 회원권을 확인하고 출석 체크를 할 수 있는 페이지

**핵심 기능:**
1. **회원권 정보 카드**
   - 결제 타입별로 그룹화 (정규수업, 강사제공, 센터제공)
   - 각 회원권:
     - 총 레슨 수
     - 남은 레슨 수 (큰 숫자로 강조)
     - 사용한 레슨 수
     - 유효 기간
     - 상태 뱃지 (활성-초록, 만료-회색)

2. **출석 통계**
   - 이번 달 기준
   - 예정 수업 수
   - 완료 수업 수
   - 출석률 (%)

3. **레슨 목록 (출석 체크)**
   - **출석 완료 레슨:**
     - 시간, 레슨 유형, 강사명
     - 출석 완료 표시 (✓ 아이콘)
     - 출석 시간 (10:05에 출석하셨습니다)
     - 버튼: 출석 완료 (비활성화, 회색)
   
   - **출석 대기 레슨:**
     - 시간, 레슨 유형, 강사명
     - 레슨 상세 정보
     - 버튼: 출석하기 (활성화, 초록색)
     - 클릭 시 출석 체크 + 회원권 자동 차감

4. **출석 확인 프로세스**
   - 출석하기 버튼 클릭
   - 해당 결제 타입의 회원권에서 1회 차감
   - remaining_lessons -1, used_lessons +1
   - 출석 시간 기록 (check_in_time)
   - 즉시 UI 업데이트

**UI 특징:**
- 회원권 카드: 결제 타입별 색상 구분
- 출석 완료: 연한 초록 배경
- 출석 대기: 흰색 배경
- 출석하기 버튼: 크고 눈에 띄는 초록색

**데이터 필터링:**
- 본인의 회원권만 표시
- 본인이 참여하는 레슨만 표시
- 오늘 날짜 기준으로 정렬

---

### 3. 회원/강사-프로필 (app/profile/page.tsx)

**개발 의도:**
회원과 강사가 자신의 프로필 정보를 확인하고 수정할 수 있는 공통 페이지

**핵심 기능:**
1. **프로필 정보 표시**
   - 이름
   - 전화번호
   - 이메일
   - 역할 (회원/강사/관리자)
   - 가입일

2. **정보 수정**
   - 이름 변경
   - 전화번호 변경 (인증 필요)
   - 프로필 사진 업로드 (선택)

3. **비밀번호 변경**
   - 현재 비밀번호 확인
   - 새 비밀번호 입력
   - 새 비밀번호 확인

4. **설정**
   - 알림 설정 (레슨 알림, 출석 알림)
   - 언어 설정
   - 테마 설정 (선택)

**UI 특징:**
- 심플한 폼 디자인
- 입력 필드: 둥근 모서리, 가벼운 테두리
- 저장 버튼: 파란색, 하단 고정

**권한:**
- 회원: 본인 정보만 수정
- 강사: 본인 정보만 수정
- 관리자: 프로필 페이지에서 관리자 전환 버튼 표시

---

## 👨‍🏫 강사 페이지 (6개)

### 4. 강사-일정 (app/instructor/dashboard/page.tsx)

**개발 의도:**
강사가 담당하는 레슨 일정을 캘린더 형태로 한눈에 파악하는 페이지

**핵심 기능:**
1. **월간 캘린더**
   - 전체 날짜 그리드
   - 레슨 있는 날: 작은 점 또는 숫자 표시
   - 날짜 클릭 시 해당 날짜 레슨 목록으로 이동

2. **오늘의 레슨 요약**
   - 오늘 예정된 레슨 수
   - 완료된 레슨 수
   - 다음 레슨 시간

3. **레슨 목록 (날짜별)**
   - 시간 순서대로 정렬
   - 레슨 카드: 시간, 레슨 유형, 참여 회원
   - 상태: 예정/진행중/완료
   - 클릭 시 레슨 상세 또는 출석 페이지로 이동

**UI 특징:**
- 캘린더: 깔끔한 그리드, 오늘 날짜 하이라이트
- 레슨 카드: 컴팩트하게 정보 표시

**데이터 필터링:**
- instructor_id = 본인 ID로 필터링
- 담당하는 레슨만 표시

---

### 5. 강사-수업 (app/instructor/lessons/page.tsx)

**개발 의도:**
강사가 담당하는 모든 레슨을 관리하고, 새로운 레슨을 등록할 수 있는 페이지

**핵심 기능:**
1. **레슨 등록 버튼**
   - 상단 고정
   - 클릭 시 레슨 등록 모달 표시

2. **레슨 등록 모달**
   - **레슨 유형 선택:** 인트로/개인/듀엣/그룹 (버튼 형태)
   - **날짜 선택:** 캘린더 모달 (달력 아이콘 클릭)
   - **시간 선택:** 드롭다운 (30분 단위)
   - **결제 타입 선택:** 체험/정규/강사제공/센터제공
   - **회원 선택:** (인트로 제외)
     - 검색 기능
     - 체크박스로 다중 선택
     - 레슨 유형에 따라 선택 가능 인원 제한
       - 개인: 1명
       - 듀엣: 2명
       - 그룹: 4명
   - **등록 버튼:** 파란색, 하단 고정

3. **레슨 목록**
   - 날짜별로 그룹화
   - 레슨 카드 구성:
     - 시간, 레슨 유형, 결제 타입
     - 참여 회원 목록
     - 상태 (예정/완료/취소)
   - 레슨 카드 클릭: 레슨 상세 모달

4. **레슨 상세 모달**
   - 모든 정보 표시
   - 액션 버튼:
     - 수정 (예정 레슨만)
     - 취소 (예정 레슨만)
     - 출석 체크 (레슨 시작 후)

5. **검색 기능**
   - 회원 이름, 레슨 유형으로 검색
   - 실시간 필터링

**UI 특징:**
- 등록 모달: 세로로 긴 폼, 각 섹션 구분
- 레슨 유형 버튼: 가로 스크롤, 선택 시 색상 변경
- 회원 선택: 체크박스 리스트, 검색 필터

**데이터 필터링:**
- 본인이 담당하는 레슨만 조회/수정
- 회원 선택 시 담당 회원만 표시

---

### 6. 강사-회원 (app/instructor/members/page.tsx)

**개발 의도:**
강사가 담당하는 회원 목록을 확인하고, 비회원을 정회원으로 전환하는 페이지

**핵심 기능:**
1. **회원 등록 버튼**
   - 비회원(체험) 등록
   - 이름, 전화번호 입력
   - 등록 시 instructor_members 테이블에 강사 ID 연결

2. **검색 기능**
   - 이름, 전화번호로 검색
   - 실시간 필터링

3. **회원 목록**
   - 회원 카드 구성:
     - 이름
     - 전화번호
     - 상태 (활성/비활성)
     - 회원 유형 (정회원/비회원)
     - 남은 레슨 수 (정회원만)
     - 가입일
   - 카드 클릭: 회원 상세 모달

4. **회원 상세 모달**
   - **회원 정보:**
     - 이름, 전화번호, 가입일
     - 메모 (강사가 작성)
   
   - **회원권 목록:** (정회원만)
     - 결제 타입별로 그룹화
     - 각 회원권: 총/남은/사용 레슨 수, 유효기간, 상태
   
   - **액션 버튼:**
     - 정회원 전환 (비회원만)
     - 회원권 지급 (관리자 권한 필요 - 비활성화)
     - 메모 저장

5. **정회원 전환 프로세스**
   - 비회원 카드의 "정회원 전환" 버튼 클릭
   - 확인 다이얼로그:
     - "홍길동님을 정회원으로 전환하시겠습니까?"
     - 다음 단계 안내:
       1. 앱 다운로드 안내
       2. 전화번호로 가입 안내
       3. 회원권 지급 (관리자)
   - 확인 시 members 테이블의 type을 'member'로 변경
   - 성공 알림 표시

**UI 특징:**
- 회원 카드: 컴팩트한 디자인
- 비회원: 연한 노란 배경으로 구분
- 정회원 전환 버튼: 파란색, 눈에 띄게

**데이터 필터링:**
- instructor_members 테이블로 담당 회원만 조회
- 담당하지 않는 회원은 표시되지 않음

---

### 7. 강사-출석 (app/instructor/attendance/page.tsx)

**개발 의도:**
강사가 담당하는 레슨의 출석을 일괄 체크하고 관리하는 페이지

**핵심 기능:**
1. **날짜 선택**
   - 상단: 날짜 선택 드롭다운
   - 기본값: 오늘 날짜
   - 날짜 변경 시 레슨 목록 필터링

2. **레슨별 출석 카드 (AttendanceCard)**
   - **레슨 헤더:**
     - 시간 (10:00)
     - 레슨 유형 뱃지 (개인-보라, 그룹-주황)
     - 강사명 (본인)
   
   - **회원 출석 체크:**
     - 회원 목록 (체크박스)
     - 각 회원:
       - 이름
       - 회원권 정보 (결제 타입 + 남은 횟수)
       - 출석 시간 (출석 완료 시)
       - 출석 상태 (null/true/false)
   
   - **액션:**
     - 개별 체크박스: 개별 출석 체크
     - 전체 선택: 모든 회원 일괄 출석
     - 레슨 완료 버튼: 
       - 출석 체크된 회원의 회원권 차감
       - class_members 테이블 업데이트
       - 레슨 상태를 'completed'로 변경

3. **출석 처리 로직**
   - 체크박스 선택 시 attended = true
   - 레슨 완료 버튼 클릭 시:
     1. attended = true인 회원들의 회원권 차감
     2. 해당 결제 타입의 회원권에서만 차감
     3. membership_packages 테이블 업데이트
     4. check_in_time 기록
   - 결석 처리: attended = false (회원권 차감 없음)

4. **완료된 레슨 표시**
   - 출석 완료 레슨은 연한 초록 배경
   - 출석 정보 읽기 전용 표시
   - 수정 불가 (관리자만 가능)

**UI 특징:**
- 출석 카드: 레슨 단위로 구분
- 체크박스: 크고 터치하기 쉽게
- 레슨 완료 버튼: 파란색, 각 카드 하단
- 출석 완료: 초록 체크 아이콘

**데이터 필터링:**
- 본인이 담당하는 레슨만 표시
- 선택한 날짜의 레슨만 필터링

---

### 8. 강사-정산 (app/instructor/finance/page.tsx)

**개발 의도:**
강사가 월별 레슨 횟수 정산 내역을 확인하는 페이지 (금액 없음, 횟수만)

**핵심 기능:**
1. **월 선택**
   - 상단: 년/월 선택 드롭다운
   - 기본값: 이번 달
   - 월 변경 시 정산 내역 재조회

2. **정산 요약**
   - 이번 달 전체 레슨 횟수
   - 레슨 유형별 횟수
   - 결제 타입별 횟수

3. **레슨 유형별 집계**
   - 인트로: n회
   - 개인레슨: n회
   - 듀엣레슨: n회
   - 그룹레슨: n회
   - 각 유형별 색상 구분

4. **결제 타입별 집계**
   - 체험수업: n회
   - 정규수업: n회
   - 강사제공: n회
   - 센터제공: n회
   - 각 타입별 색상 구분

5. **레슨 목록 (상세)**
   - 날짜순 정렬
   - 각 레슨:
     - 날짜, 시간
     - 레슨 유형
     - 결제 타입
     - 참여 회원
   - 클릭 시 레슨 상세 모달

**UI 특징:**
- 요약 카드: 큰 숫자로 강조
- 유형별/타입별 카드: 색상으로 구분
- 레슨 목록: 컴팩트하게 표시

**데이터 필터링:**
- 본인이 담당한 완료 레슨만 집계
- 선택한 월의 레슨만 조회
- status = 'completed'인 레슨만

**정산 로직:**
- 금액 계산 없음 (횟수만 표시)
- 관리자가 별도로 금액 계산

---

### 9. 프로필 (공유)
- 회원과 동일한 페이지 사용 (위 3번 참고)

---

## 👨‍💼 관리자 페이지 (6개)

### 10. 관리자-일정 (app/admin/dashboard/page.tsx)

**개발 의도:**
관리자가 전체 강사의 레슨 일정을 한눈에 파악하는 대시보드

**핵심 기능:**
1. **월간 캘린더**
   - 전체 날짜 그리드
   - 레슨 있는 날: 점 또는 개수 표시
   - 날짜 클릭: 해당 날짜 레슨 목록

2. **오늘의 전체 레슨 요약**
   - 오늘 예정 레슨 수
   - 진행 중 레슨 수
   - 완료 레슨 수
   - 강사별 레슨 수

3. **강사별 필터링**
   - 드롭다운: 전체/특정 강사
   - 선택 시 해당 강사 레슨만 표시

4. **레슨 목록 (날짜별)**
   - 시간 순서대로 정렬
   - 레슨 카드:
     - 시간
     - 레슨 유형, 결제 타입
     - 강사명 (중요!)
     - 참여 회원
     - 상태
   - 클릭 시 레슨 상세 또는 수정

**UI 특징:**
- 캘린더: 전체 레슨 표시
- 강사별 색상 구분 (선택)
- 레슨 카드: 강사 정보 강조

**데이터 필터링:**
- 전체 레슨 조회 (RLS: admin 권한)
- 강사 필터링 적용 가능

---

### 11. 관리자-레슨 (app/admin/classes/page.tsx) ⭐ 가장 복잡

**개발 의도:**
관리자가 모든 레슨을 등록, 수정, 취소하고 관리하는 핵심 페이지

**핵심 기능:**
1. **레슨 등록 버튼**
   - 상단 고정, 큰 파란색 버튼
   - 클릭 시 레슨 등록 모달

2. **레슨 등록 모달 (복잡!)**
   - **Step 1: 레슨 유형 선택**
     - 4개 버튼: 인트로/개인/듀엣/그룹
     - 선택 시 색상 변경
     - 인트로 선택 시 회원 선택 섹션 숨김
   
   - **Step 2: 날짜 선택**
     - 캘린더 아이콘 클릭
     - 캘린더 모달 표시
     - 날짜 선택 시 모달 닫힘, 날짜 입력 필드에 자동 입력
   
   - **Step 3: 시간 선택**
     - 시간 선택 드롭다운
     - 30분 단위 (09:00, 09:30, ..., 21:00)
     - 선택한 시간 표시
   
   - **Step 4: 결제 타입 선택**
     - 4개 버튼: 체험/정규/강사제공/센터제공
     - 선택 시 색상 변경
   
   - **Step 5: 강사 선택**
     - 드롭다운
     - 전체 강사 목록 (profiles 테이블, role = 'instructor' 또는 'admin')
   
   - **Step 6: 회원 선택** (인트로 제외)
     - 검색 기능: 이름으로 실시간 필터링
     - 체크박스 리스트:
       - 전체 회원 표시 (비회원 포함)
       - 각 회원: 이름 + 회원권 정보
       - 선택 가능 인원 제한:
         - 개인: 1명
         - 듀엣: 2명
         - 그룹: 4명
     - 선택 인원 표시: (2/4명)
     - 제한 초과 시 경고 또는 비활성화
   
   - **등록 버튼:**
     - 모든 필수 정보 입력 확인
     - 파란색, 하단 고정
     - 클릭 시:
       1. classes 테이블에 레슨 생성
       2. class_members 테이블에 회원 연결
       3. 성공 알림
       4. 레슨 목록 새로고침

3. **캘린더 모달**
   - 월간 캘린더 표시
   - 날짜 클릭 시 선택
   - 이전/다음 달 이동 버튼
   - 오늘 날짜 하이라이트
   - 선택한 날짜 파란색 배경

4. **레슨 목록**
   - 날짜별 그룹화 (최신순)
   - 검색 기능: 강사명, 회원명, 레슨 유형
   - 레슨 카드 구성:
     - 날짜, 시간
     - 레슨 유형, 결제 타입 (색상 뱃지)
     - 강사명
     - 참여 회원 목록 (최대 4명까지 표시)
     - 상태 (예정/진행중/완료/취소)
   - 카드 클릭: 레슨 상세 모달

5. **레슨 상세 모달**
   - 모든 정보 표시
   - 액션 버튼:
     - **수정:** (예정 레슨만)
       - 날짜, 시간, 강사, 회원 변경 가능
       - 저장 시 classes 테이블 업데이트
     - **취소:** (예정/진행중 레슨)
       - 확인 다이얼로그
       - 취소 시 status = 'cancelled'
       - 회원권 차감 롤백 (출석 완료된 경우)
     - **삭제:** (예정 레슨만)
       - 위험 확인 다이얼로그
       - 삭제 시 class_members도 함께 삭제
     - **출석 체크:** (레슨 시작 후)
       - 강사-출석 페이지와 동일한 UI
       - 일괄 출석 처리

6. **필터 기능**
   - 상태별: 전체/예정/완료/취소
   - 강사별: 드롭다운
   - 레슨 유형별: 드롭다운
   - 날짜 범위: 시작일~종료일

**UI 특징:**
- 등록 모달: 매우 긴 폼, 스크롤 가능
- 레슨 유형/결제 타입 버튼: 가로 스크롤, 선택 시 색상 변경
- 캘린더 모달: 깔끔한 달력 UI
- 회원 선택: 검색 + 체크박스, 선택 인원 카운터
- 레슨 카드: 정보 풍부, 컴팩트하게

**데이터 접근:**
- 전체 레슨 조회/생성/수정/삭제 가능
- 전체 회원/강사 조회 가능
- RLS: admin 권한

**복잡도:**
- 가장 많은 입력 필드
- 다중 모달 (등록 모달 + 캘린더 모달 + 상세 모달)
- 조건부 렌더링 (인트로 선택 시)
- 인원 제한 로직
- 검색 기능
- 실시간 필터링

---

### 12. 관리자-회원 (app/admin/members/page.tsx)

**개발 의도:**
관리자가 전체 회원을 관리하고, 회원권을 지급하며, 강사에게 회원을 배정하는 페이지

**핵심 기능:**
1. **탭 메뉴 (3개)**
   - 전체: 모든 회원 (정회원 + 비회원)
   - 정회원: type = 'member'
   - 비회원: type = 'guest'

2. **회원 등록 버튼**
   - 비회원(체험) 등록
   - 이름, 전화번호 입력
   - 담당 강사 선택
   - 등록 시 members 테이블에 추가
   - instructor_members 테이블에 강사 연결

3. **검색 기능**
   - 이름, 전화번호로 검색
   - 실시간 필터링

4. **회원 목록**
   - 회원 카드 구성:
     - 이름
     - 전화번호
     - 상태 (활성/비활성)
     - 회원 유형 (정회원/비회원)
     - 담당 강사
     - 남은 레슨 수 (정회원만)
     - 가입일
   - 카드 클릭: 회원 상세 모달

5. **회원 상세 모달**
   - **회원 정보:**
     - 이름, 전화번호, 가입일
     - 담당 강사 (변경 가능)
     - 메모
   
   - **회원권 목록:** (정회원만)
     - 결제 타입별 그룹화
     - 각 회원권:
       - 결제 타입 (색상 뱃지)
       - 총 레슨 수
       - 남은 레슨 수
       - 사용 레슨 수
       - 유효 기간 (시작일 ~ 종료일)
       - 상태 (활성/만료/소진)
   
   - **회원권 지급 버튼:**
     - 클릭 시 회원권 지급 모달
   
   - **액션 버튼:**
     - 정회원 전환 (비회원만)
     - 회원 비활성화
     - 메모 저장
     - 담당 강사 변경

6. **회원권 지급 모달**
   - 결제 타입 선택 (체험/정규/강사제공/센터제공)
   - 레슨 수 입력 (숫자)
   - 유효 기간 설정:
     - 시작일 (기본: 오늘)
     - 종료일 (기본: 3개월 후)
   - 지급 버튼:
     - 파란색
     - 클릭 시 membership_packages 테이블에 추가
     - 회원권 목록 새로고침

7. **강사 배정 프로세스**
   - 회원 카드의 담당 강사 드롭다운
   - 강사 선택 시 즉시 저장
   - instructor_members 테이블 업데이트
   - 성공 알림

**UI 특징:**
- 탭: 상단 고정, 활성 탭 파란색 밑줄
- 회원 카드: 컴팩트, 정보 풍부
- 비회원: 연한 노란 배경
- 회원권 카드: 결제 타입별 색상 구분
- 지급 모달: 간결한 폼

**데이터 접근:**
- 전체 회원 조회/수정
- 회원권 생성/조회
- 강사 배정/변경
- RLS: admin 권한

---

### 13. 관리자-출석 (app/admin/attendance/page.tsx)

**개발 의도:**
관리자가 전체 레슨의 출석을 관리하고, 출석 현황을 한눈에 파악하는 페이지

**핵심 기능:**
1. **날짜 선택**
   - 상단: 날짜 선택 드롭다운
   - 기본값: 오늘
   - 날짜 변경 시 레슨 목록 필터링

2. **강사별 필터링**
   - 드롭다운: 전체/특정 강사
   - 선택 시 해당 강사 레슨만 표시

3. **레슨별 출석 카드**
   - 강사-출석 페이지와 동일한 AttendanceCard 사용
   - **추가 정보:**
     - 강사명 표시 (중요!)
   
   - **레슨 헤더:**
     - 시간
     - 레슨 유형 뱃지
     - 강사명
   
   - **회원 출석 체크:**
     - 회원 목록 (체크박스)
     - 각 회원: 이름, 회원권, 출석 시간
     - 개별/일괄 출석 체크
   
   - **레슨 완료 버튼:**
     - 출석 처리 + 회원권 차감
     - 레슨 상태 변경

4. **출석 수정 (관리자 권한)**
   - 완료된 레슨도 수정 가능
   - 출석/결석 상태 변경
   - 회원권 차감 롤백/재차감

5. **출석 통계**
   - 오늘의 전체 출석률
   - 강사별 출석률
   - 레슨 유형별 출석률

**UI 특징:**
- 출석 카드: 강사명 강조
- 강사별 색상 구분 (선택)
- 수정 가능: 완료된 레슨도 편집 아이콘

**데이터 접근:**
- 전체 레슨 출석 조회/수정
- 회원권 차감 롤백 가능
- RLS: admin 권한

---

### 14. 관리자-정산 (app/admin/finance/page.tsx)

**개발 의도:**
관리자가 전체 강사의 월별 정산 내역을 확인하고 관리하는 페이지

**핵심 기능:**
1. **월 선택**
   - 상단: 년/월 선택 드롭다운
   - 기본값: 이번 달
   - 월 변경 시 정산 내역 재조회

2. **전체 정산 요약**
   - 이번 달 전체 레슨 횟수
   - 강사별 레슨 횟수 합계
   - 레슨 유형별 전체 횟수
   - 결제 타입별 전체 횟수

3. **강사별 정산 카드**
   - 각 강사마다 카드
   - 카드 내용:
     - 강사명
     - 전체 레슨 횟수
     - **레슨 유형별 집계:**
       - 인트로: n회
       - 개인레슨: n회
       - 듀엣레슨: n회
       - 그룹레슨: n회
     - **결제 타입별 집계:**
       - 체험수업: n회
       - 정규수업: n회
       - 강사제공: n회
       - 센터제공: n회
   - 카드 클릭: 강사별 상세 보기

4. **강사별 상세 모달**
   - 선택한 강사의 레슨 목록
   - 날짜, 시간, 레슨 유형, 결제 타입, 회원
   - 날짜순 정렬
   - 출력 기능 (선택)

5. **필터 기능**
   - 강사별: 특정 강사만 보기
   - 레슨 유형별
   - 결제 타입별

**UI 특징:**
- 정산 카드: 강사별로 구분
- 숫자 강조: 큰 폰트
- 색상: 레슨 유형/결제 타입별 색상
- 카드 클릭: 확장/축소

**데이터 접근:**
- 전체 강사 정산 조회
- settlements 테이블 조회
- 완료된 레슨만 집계
- RLS: admin 권한

**정산 로직:**
- 금액 없음, 횟수만 표시
- 관리자가 별도로 금액 계산

---

### 15. 관리자-프로필 (app/profile/page.tsx)

**개발 의도:**
관리자가 자신의 프로필을 관리하고, 관리자/강사 역할을 전환하는 페이지

**핵심 기능:**
1. **프로필 정보**
   - 회원/강사 프로필과 동일
   - 이름, 전화번호, 이메일
   - 역할: 관리자

2. **관리자 전환**
   - 프로필 페이지에서 관리자 ↔ 강사 토글
   - 또는 헤더의 관리자 전환 버튼
   - 전환 시:
     - 역할 변경 (DB는 그대로, 세션만 변경)
     - 하단 네비게이션 업데이트
     - 페이지 권한 변경

3. **기타 설정**
   - 회원/강사 프로필과 동일
   - 비밀번호 변경
   - 알림 설정
   - 언어/테마 설정

**UI 특징:**
- 일반 프로필과 동일
- 관리자 전환 버튼만 추가

**데이터 접근:**
- 본인 정보 수정
- RLS: admin 권한

---

## 🎨 공통 디자인 원칙

### 색상 시스템 (엄격 준수)
- **레슨 유형:** 인트로(회색), 개인(보라), 듀엣(핑크), 그룹(주황)
- **결제 타입:** 체험(주황), 정규(파랑), 강사(초록), 센터(노랑)
- **모든 버튼:** 파란색 (#2563eb)
- **배경:** 메인(#f5f1e8), 카드(#fdfbf7), 구분선(#f0ebe1)

### UI 패턴
- **카드:** 흰색 배경, 둥근 모서리, 가벼운 그림자
- **버튼:** 파란색, 높이 44px, 둥근 모서리
- **모달:** 배경 반투명, 컨텐츠 흰색, 애니메이션
- **입력 필드:** 가벼운 테두리, 둥근 모서리, focus 시 파란색
- **뱃지:** 색상으로 구분, 둥근 모서리, 작은 폰트

### 반응형
- 모바일 우선 (모든 페이지)
- 최대 너비: 600px
- 데스크톱: 중앙 정렬 + 그림자

---

## 🔒 권한 시스템

### 회원 (member)
- 본인 데이터만 조회/수정
- 본인 레슨만 확인
- 본인 출석만 체크
- 본인 회원권만 확인

### 강사 (instructor)
- 담당 회원만 조회/수정
- 담당 레슨만 조회/수정
- 담당 레슨 출석만 관리
- 본인 정산만 확인

### 관리자 (admin)
- 전체 데이터 조회/수정/삭제
- 모든 레슨 생성/수정/취소
- 모든 출석 관리 (수정 가능)
- 전체 정산 확인
- 회원권 지급
- 강사 배정
- 관리자 ↔ 강사 역할 전환

---

## 💡 핵심 개발 원칙

1. **Phase 1 공통 컴포넌트 완성 필수**
   - 모든 페이지가 의존
   - 재사용성 최대화
   - 색상/디자인 통일

2. **HTML 디자인만 가져오기**
   - 깃허브 React 기능 보존
   - TypeScript 타입 정의 유지
   - 기존 로직 삭제 금지

3. **색상 시스템 엄격 준수**
   - 레슨 유형/결제 타입 색상 고정
   - 모든 버튼 파란색
   - 배경/구분선 색상 고정

4. **사용자 경험 우선**
   - 모바일 최적화
   - 터치 영역 충분히 크게 (최소 44px)
   - 로딩 상태 표시
   - 에러 메시지 친절하게

5. **데이터 무결성**
   - 회원권 차감 로직 정확히
   - 결제 타입별 분리 처리
   - 출석 처리 원자적으로
   - 롤백 가능하게

---

이 문서는 15개 페이지의 개발 의도와 상세 기능을 정리한 것입니다.
각 페이지 개발 시 이 문서를 참고하여 일관성 있게 구현하세요!

---

다음 할 일 (메모)
- 회원 하단 네비게이션에 `회원` 탭 추가하고 본인 전용 회원권 페이지 구현 (`app/member/membership/page.tsx`)
  - 상단: 회원권 요약 카드(총/활성/만료예정/잔여 합)
  - 목록: 결제 타입별 카드 + 상세 모달(기간/잔여/사용/상태)
- 하단 네비게이션(회원 화면) 버튼 배치: 좌측 `출석`, 중앙 `일정`, 우측 `회원`
- 현재 구현에 맞춰 본 문서(.cursorrules) 내용 최신화: 
  - 룸 정보 제거, 결제 타입은 상세(모달)에서만 표시
  - 강사명 표기 통일: 모든 화면에서 이름 뒤에 " 강사"
  - "출석 대기" 용어 사용 금지(미체크는 null로 표현, UI는 회색)